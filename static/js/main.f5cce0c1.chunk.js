(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(3),s=a.n(c),l=(a(15),a(1)),r=a(4),i=a(5),m=a(7),u=a(6),d=a(8),h=(a(16),function(){return o.a.createElement("nav",null,o.a.createElement("div",{className:"nav-wrapper container"},o.a.createElement("a",{href:"*",className:"brand-logo"},"Book finder")))}),f=function(e){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("section",{className:"col s4 offset-s4"},o.a.createElement("form",{action:"",onSubmit:e.loadBooks},o.a.createElement("div",{className:"input-field"},o.a.createElement("input",{placeholder:"Search book",type:"text",onChange:e.handleChange})),o.a.createElement("button",{class:"btn waves-effect waves-light",type:"submit",name:"action"},"Search")))))},v=function(e){return o.a.createElement("div",{className:"col s12 m6 l3"},o.a.createElement("div",{className:"z-depth-2"},o.a.createElement("div",{className:"card large hoverable"},o.a.createElement("div",{className:"card-image "},null==e.image?o.a.createElement("img",{src:"http://s3-ap-southeast-1.amazonaws.com/upcode/static/default-image.jpg",alt:e.title}):o.a.createElement("img",{className:"responsive-img",src:e.image.thumbnail,alt:e.title})),o.a.createElement("div",{className:"card-content"},o.a.createElement("h6",{className:"card-title"},e.title),o.a.createElement("p",{className:"truncate"},e.description)))))},p=function(e){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col s12"},e.books.map(function(e,t){return o.a.createElement(v,{key:t,image:e.volumeInfo.imageLinks,title:e.volumeInfo.title,description:e.volumeInfo.description})}))))},g=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).loadBooks=function(e){e.preventDefault();var t=a.state,n=t.searchWord,o=t.per,c=t.page;fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(n,"&maxResults=").concat(o,"&startIndex=").concat(c)).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({books:Object(l.a)(e.items)})})},a.loadMoreBooks=function(){a.setState({loadingState:!0}),setTimeout(function(){a.setState({page:a.state.page+6,loadingState:!1});var e=a.state,t=e.books,n=e.searchWord,o=e.per,c=e.page;fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(n,"&maxResults=").concat(o,"&startIndex=").concat(c)).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({books:[].concat(Object(l.a)(t),Object(l.a)(e.items))})})},1e3)},a.handleChange=function(e){a.setState({searchWord:e.target.value})},a.state={books:[],searchWord:"",per:6,page:0,loadingState:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.refs.iScroll.addEventListener("scroll",function(){e.refs.iScroll.scrollTop+e.refs.iScroll.clientHeight>=e.refs.iScroll.scrollHeight-100&&e.loadMoreBooks()})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"vc",ref:"iScroll",style:{height:"100vh",overflow:"auto"}},o.a.createElement(h,null),o.a.createElement(f,{loadBooks:this.loadBooks,handleChange:this.handleChange}),o.a.createElement(p,{books:this.state.books})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.f5cce0c1.chunk.js.map